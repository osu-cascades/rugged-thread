<div class="row mb-5">
  <div class="col">
    <h1>Customers</h1>
  </div>
  <div class="col text-end">
    <%= link_to 'Add New Customer', new_customer_path, class: 'btn btn-outline-primary me-2' %>
    <%= link_to 'Active Customers', customers_path, class: 'btn btn-outline-primary me-2' %>
  </div>
</div>

<%= form_with url: customers_path, method: :get, data: { turbo_frame: 'customers' } do |f| %>
  <div class="row">
    <div class="col-8">
      <%= f.search_field :query, value: params[:query], class: 'form-control', autofocus: true, placeholder: 'Search. Type a last name and hit [enter]' %>
    </div>
  </div>
<% end %>

<%= turbo_frame_tag 'customers' do %>
  <%= render 'table', customers: @customers.discarded %>

  <%= pagination_nav(@pagy, customers_path(page: @pagy.prev, query: params[:query]), customers_path(page: @pagy.next, query: params[:query])) %>
<% end %>
